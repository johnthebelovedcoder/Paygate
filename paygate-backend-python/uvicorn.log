INFO:     Will watch for changes in these directories: ['C:\\Users\\Home\\Downloads\\Documents\\paygate\\paygate-backend-python']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [26320] using StatReload
INFO:     Started server process [41344]
INFO:     Waiting for application startup.
INFO:main:Creating database tables...
2025-10-08 11:28:11,293 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:28:11,293 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("users")
2025-10-08 11:28:11,293 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-10-08 11:28:11,316 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("paywalls")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("paywalls")
2025-10-08 11:28:11,316 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-10-08 11:28:11,318 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("payments")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("payments")
2025-10-08 11:28:11,318 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-10-08 11:28:11,320 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("contents")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("contents")
2025-10-08 11:28:11,320 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-10-08 11:28:11,322 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("customers")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("customers")
2025-10-08 11:28:11,322 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-10-08 11:28:11,324 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("subscriptions")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("subscriptions")
2025-10-08 11:28:11,324 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-10-08 11:28:11,326 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("promo_codes")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("promo_codes")
2025-10-08 11:28:11,326 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-10-08 11:28:11,328 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("refresh_tokens")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("refresh_tokens")
2025-10-08 11:28:11,328 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-10-08 11:28:11,330 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("analytics")
INFO:sqlalchemy.engine.Engine:PRAGMA main.table_info("analytics")
2025-10-08 11:28:11,330 INFO sqlalchemy.engine.Engine [raw sql] ()
INFO:sqlalchemy.engine.Engine:[raw sql] ()
2025-10-08 11:28:11,332 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
INFO:main:Database tables created successfully
INFO:     Application startup complete.
INFO:     127.0.0.1:35443 - "GET /docs HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:35443 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:45987 - "GET /docs HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:45987 - "GET /docs HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:45987 - "GET /docs HTTP/1.1" 404 Not Found
2025-10-08 11:32:18,027 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:32:18,060 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 11:32:18,060 INFO sqlalchemy.engine.Engine [generated in 0.00030s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00030s] ()
2025-10-08 11:32:18,064 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 11:32:18,064 INFO sqlalchemy.engine.Engine [generated in 0.00032s] ('completed',)
INFO:sqlalchemy.engine.Engine:[generated in 0.00032s] ('completed',)
2025-10-08 11:32:18,067 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 11:32:18,067 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00023s] ()
2025-10-08 11:32:18,069 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 11:32:18,070 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00021s] ()
2025-10-08 11:32:18,074 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:32:18,074 INFO sqlalchemy.engine.Engine [generated in 0.00028s] ('2025-10-01 10:32:18.072214', 'completed')
INFO:sqlalchemy.engine.Engine:[generated in 0.00028s] ('2025-10-01 10:32:18.072214', 'completed')
2025-10-08 11:32:18,076 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:32:18,077 INFO sqlalchemy.engine.Engine [generated in 0.00024s] ('2025-10-01 10:32:18.072214', 'completed')
INFO:sqlalchemy.engine.Engine:[generated in 0.00024s] ('2025-10-01 10:32:18.072214', 'completed')
2025-10-08 11:32:18,078 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:42388 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 11:32:19,026 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:32:19,026 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 11:32:19,026 INFO sqlalchemy.engine.Engine [cached since 0.9677s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.9677s ago] ()
2025-10-08 11:32:19,031 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 11:32:19,031 INFO sqlalchemy.engine.Engine [cached since 0.9673s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 0.9673s ago] ('completed',)
2025-10-08 11:32:19,031 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 11:32:19,031 INFO sqlalchemy.engine.Engine [cached since 0.9663s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.9663s ago] ()
2025-10-08 11:32:19,031 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 11:32:19,031 INFO sqlalchemy.engine.Engine [cached since 0.9652s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 0.9652s ago] ()
2025-10-08 11:32:19,036 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:32:19,036 INFO sqlalchemy.engine.Engine [cached since 0.9633s ago] ('2025-10-01 10:32:19.036923', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 0.9633s ago] ('2025-10-01 10:32:19.036923', 'completed')
2025-10-08 11:32:19,039 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:32:19,039 INFO sqlalchemy.engine.Engine [cached since 0.9629s ago] ('2025-10-01 10:32:19.036923', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 0.9629s ago] ('2025-10-01 10:32:19.036923', 'completed')
2025-10-08 11:32:19,039 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:42388 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 11:32:19,049 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:32:19,054 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 11:32:19,054 INFO sqlalchemy.engine.Engine [generated in 0.00059s] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[generated in 0.00059s] ('completed', 10, 0)
2025-10-08 11:32:19,055 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:42388 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:65338 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 11:32:20,034 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:32:20,037 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 11:32:20,037 INFO sqlalchemy.engine.Engine [generated in 0.00039s] ()
INFO:sqlalchemy.engine.Engine:[generated in 0.00039s] ()
INFO:     127.0.0.1:65338 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 11:32:20,041 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:42388 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 11:32:21,049 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:32:21,049 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 11:32:21,049 INFO sqlalchemy.engine.Engine [cached since 2.993s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2.993s ago] ()
2025-10-08 11:32:21,054 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:32:21,054 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 11:32:21,054 INFO sqlalchemy.engine.Engine [cached since 2.994s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2.994s ago] ()
2025-10-08 11:32:21,054 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 11:32:21,054 INFO sqlalchemy.engine.Engine [cached since 2.994s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2.994s ago] ('completed',)
2025-10-08 11:32:21,059 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 11:32:21,059 INFO sqlalchemy.engine.Engine [cached since 2.996s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2.996s ago] ('completed',)
2025-10-08 11:32:21,059 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 11:32:21,059 INFO sqlalchemy.engine.Engine [cached since 2.996s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2.996s ago] ()
2025-10-08 11:32:21,064 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 11:32:21,064 INFO sqlalchemy.engine.Engine [cached since 2.998s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2.998s ago] ()
2025-10-08 11:32:21,064 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 11:32:21,064 INFO sqlalchemy.engine.Engine [cached since 2.998s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2.998s ago] ()
2025-10-08 11:32:21,064 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 11:32:21,070 INFO sqlalchemy.engine.Engine [cached since 2.999s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2.999s ago] ()
2025-10-08 11:32:21,070 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:32:21,070 INFO sqlalchemy.engine.Engine [cached since 2.999s ago] ('2025-10-01 10:32:21.070178', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2.999s ago] ('2025-10-01 10:32:21.070178', 'completed')
2025-10-08 11:32:21,070 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:32:21,070 INFO sqlalchemy.engine.Engine [cached since 3.001s ago] ('2025-10-01 10:32:21.070178', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 3.001s ago] ('2025-10-01 10:32:21.070178', 'completed')
2025-10-08 11:32:21,075 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:32:21,075 INFO sqlalchemy.engine.Engine [cached since 3.002s ago] ('2025-10-01 10:32:21.070178', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 3.002s ago] ('2025-10-01 10:32:21.070178', 'completed')
2025-10-08 11:32:21,075 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:32:21,075 INFO sqlalchemy.engine.Engine [cached since 3.003s ago] ('2025-10-01 10:32:21.070178', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 3.003s ago] ('2025-10-01 10:32:21.070178', 'completed')
2025-10-08 11:32:21,080 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 11:32:21,080 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:42388 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65338 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 11:32:22,057 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:32:22,057 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 11:32:22,057 INFO sqlalchemy.engine.Engine [cached since 3.005s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 3.005s ago] ('completed', 10, 0)
2025-10-08 11:32:22,057 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:32:22,057 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 11:32:22,057 INFO sqlalchemy.engine.Engine [cached since 2.023s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2.023s ago] ()
2025-10-08 11:32:22,062 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 11:32:22,062 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65338 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:42388 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:42388 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:42388 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 11:37:44,920 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:37:44,922 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 11:37:44,922 INFO sqlalchemy.engine.Engine [cached since 326.9s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 326.9s ago] ()
2025-10-08 11:37:44,925 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 11:37:44,925 INFO sqlalchemy.engine.Engine [cached since 326.9s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 326.9s ago] ('completed',)
2025-10-08 11:37:44,929 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 11:37:44,929 INFO sqlalchemy.engine.Engine [cached since 326.9s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 326.9s ago] ()
2025-10-08 11:37:44,931 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 11:37:44,931 INFO sqlalchemy.engine.Engine [cached since 326.9s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 326.9s ago] ()
2025-10-08 11:37:44,931 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:37:44,931 INFO sqlalchemy.engine.Engine [cached since 326.9s ago] ('2025-10-01 10:37:44.931171', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 326.9s ago] ('2025-10-01 10:37:44.931171', 'completed')
2025-10-08 11:37:44,933 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:37:44,933 INFO sqlalchemy.engine.Engine [cached since 326.9s ago] ('2025-10-01 10:37:44.931171', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 326.9s ago] ('2025-10-01 10:37:44.931171', 'completed')
2025-10-08 11:37:44,934 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:9013 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 11:37:45,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:37:45,615 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 11:37:45,615 INFO sqlalchemy.engine.Engine [cached since 326.6s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 326.6s ago] ('completed', 10, 0)
2025-10-08 11:37:45,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:37:45,617 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 11:37:45,617 INFO sqlalchemy.engine.Engine [cached since 327.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 327.6s ago] ()
2025-10-08 11:37:45,617 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 11:37:45,617 INFO sqlalchemy.engine.Engine [cached since 327.6s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 327.6s ago] ('completed',)
2025-10-08 11:37:45,617 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51453 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 11:37:45,623 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 11:37:45,623 INFO sqlalchemy.engine.Engine [cached since 327.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 327.6s ago] ()
2025-10-08 11:37:45,624 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 11:37:45,624 INFO sqlalchemy.engine.Engine [cached since 327.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 327.6s ago] ()
2025-10-08 11:37:45,624 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:37:45,624 INFO sqlalchemy.engine.Engine [cached since 327.6s ago] ('2025-10-01 10:37:45.624536', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 327.6s ago] ('2025-10-01 10:37:45.624536', 'completed')
2025-10-08 11:37:45,627 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:37:45,627 INFO sqlalchemy.engine.Engine [cached since 327.6s ago] ('2025-10-01 10:37:45.624536', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 327.6s ago] ('2025-10-01 10:37:45.624536', 'completed')
2025-10-08 11:37:45,627 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:9013 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:51453 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 11:37:46,616 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:37:46,616 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 11:37:46,616 INFO sqlalchemy.engine.Engine [cached since 326.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 326.6s ago] ()
INFO:     127.0.0.1:51453 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 11:37:46,624 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:9013 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 11:37:47,630 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:37:47,630 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 11:37:47,630 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ()
2025-10-08 11:37:47,632 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:37:47,632 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 11:37:47,632 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ()
2025-10-08 11:37:47,636 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 11:37:47,636 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ('completed',)
2025-10-08 11:37:47,636 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 11:37:47,636 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ('completed',)
2025-10-08 11:37:47,640 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 11:37:47,640 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ()
2025-10-08 11:37:47,640 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 11:37:47,640 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ()
2025-10-08 11:37:47,644 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 11:37:47,644 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ()
2025-10-08 11:37:47,646 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 11:37:47,646 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ()
2025-10-08 11:37:47,646 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:37:47,646 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ('2025-10-01 10:37:47.646075', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ('2025-10-01 10:37:47.646075', 'completed')
2025-10-08 11:37:47,646 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:37:47,646 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ('2025-10-01 10:37:47.646075', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ('2025-10-01 10:37:47.646075', 'completed')
2025-10-08 11:37:47,651 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:37:47,651 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ('2025-10-01 10:37:47.646075', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ('2025-10-01 10:37:47.646075', 'completed')
2025-10-08 11:37:47,654 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 11:37:47,654 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ('2025-10-01 10:37:47.646075', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ('2025-10-01 10:37:47.646075', 'completed')
2025-10-08 11:37:47,656 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 11:37:47,656 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:9013 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:51453 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 11:37:48,630 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:37:48,630 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 11:37:48,630 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 329.6s ago] ('completed', 10, 0)
2025-10-08 11:37:48,630 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 11:37:48,633 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 11:37:48,633 INFO sqlalchemy.engine.Engine [cached since 328.6s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 328.6s ago] ()
2025-10-08 11:37:48,634 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 11:37:48,634 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51453 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:9013 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:9013 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:9013 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:49995 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:9013 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:28654 - "OPTIONS /api/auth/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:49733 - "POST /api/auth/register HTTP/1.1" 422 Unprocessable Entity
2025-10-08 12:11:32,396 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:11:32,398 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:11:32,398 INFO sqlalchemy.engine.Engine [cached since 2354s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2354s ago] ()
2025-10-08 12:11:32,400 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:11:32,400 INFO sqlalchemy.engine.Engine [cached since 2354s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2354s ago] ('completed',)
2025-10-08 12:11:32,402 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:11:32,402 INFO sqlalchemy.engine.Engine [cached since 2354s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2354s ago] ()
2025-10-08 12:11:32,404 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:11:32,404 INFO sqlalchemy.engine.Engine [cached since 2354s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2354s ago] ()
2025-10-08 12:11:32,406 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:11:32,406 INFO sqlalchemy.engine.Engine [cached since 2354s ago] ('2025-10-01 11:11:32.404529', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2354s ago] ('2025-10-01 11:11:32.404529', 'completed')
2025-10-08 12:11:32,408 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:11:32,408 INFO sqlalchemy.engine.Engine [cached since 2354s ago] ('2025-10-01 11:11:32.404529', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2354s ago] ('2025-10-01 11:11:32.404529', 'completed')
2025-10-08 12:11:32,410 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:45762 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 12:11:32,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:11:32,781 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:11:32,781 INFO sqlalchemy.engine.Engine [cached since 2355s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2355s ago] ()
2025-10-08 12:11:32,783 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:11:32,783 INFO sqlalchemy.engine.Engine [cached since 2355s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2355s ago] ('completed',)
2025-10-08 12:11:32,785 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:11:32,785 INFO sqlalchemy.engine.Engine [cached since 2355s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2355s ago] ()
2025-10-08 12:11:32,787 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:11:32,787 INFO sqlalchemy.engine.Engine [cached since 2355s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2355s ago] ()
2025-10-08 12:11:32,789 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:11:32,789 INFO sqlalchemy.engine.Engine [cached since 2355s ago] ('2025-10-01 11:11:32.787311', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2355s ago] ('2025-10-01 11:11:32.787311', 'completed')
2025-10-08 12:11:32,791 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:11:32,791 INFO sqlalchemy.engine.Engine [cached since 2355s ago] ('2025-10-01 11:11:32.787311', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2355s ago] ('2025-10-01 11:11:32.787311', 'completed')
2025-10-08 12:11:32,793 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:45762 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 12:11:32,812 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:11:32,812 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:11:32,812 INFO sqlalchemy.engine.Engine [cached since 2354s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 2354s ago] ('completed', 10, 0)
2025-10-08 12:11:32,814 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:45762 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:37049 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 12:11:33,812 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:11:33,813 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:11:33,813 INFO sqlalchemy.engine.Engine [cached since 2354s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2354s ago] ()
2025-10-08 12:11:33,820 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:45762 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:37049 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 12:11:35,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:11:35,803 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:11:35,803 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ()
2025-10-08 12:11:35,805 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:11:35,805 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:11:35,805 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ()
2025-10-08 12:11:35,810 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:11:35,810 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ('completed',)
2025-10-08 12:11:35,829 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:11:35,830 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ('completed',)
2025-10-08 12:11:35,832 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:11:35,832 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ()
2025-10-08 12:11:35,836 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:11:35,836 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ()
2025-10-08 12:11:35,837 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:11:35,837 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ()
2025-10-08 12:11:35,860 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:11:35,860 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ()
2025-10-08 12:11:35,860 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:11:35,860 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ('2025-10-01 11:11:35.860860', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ('2025-10-01 11:11:35.860860', 'completed')
2025-10-08 12:11:35,886 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:11:35,886 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ('2025-10-01 11:11:35.884242', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ('2025-10-01 11:11:35.884242', 'completed')
2025-10-08 12:11:35,890 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:11:35,890 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ('2025-10-01 11:11:35.860860', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ('2025-10-01 11:11:35.860860', 'completed')
2025-10-08 12:11:35,894 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:11:35,894 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ('2025-10-01 11:11:35.884242', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ('2025-10-01 11:11:35.884242', 'completed')
2025-10-08 12:11:35,896 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:11:35,900 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:37049 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:45762 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 12:11:37,791 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:11:37,791 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:11:37,791 INFO sqlalchemy.engine.Engine [cached since 2359s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 2359s ago] ('completed', 10, 0)
2025-10-08 12:11:37,791 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:11:37,791 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:11:37,791 INFO sqlalchemy.engine.Engine [cached since 2358s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2358s ago] ()
2025-10-08 12:11:37,791 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:45762 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 12:11:37,791 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:37049 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:37049 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:37049 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 12:18:08,985 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:18:08,988 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:18:08,988 INFO sqlalchemy.engine.Engine [cached since 2751s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2751s ago] ()
2025-10-08 12:18:08,995 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:18:08,995 INFO sqlalchemy.engine.Engine [cached since 2751s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2751s ago] ('completed',)
2025-10-08 12:18:09,002 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:18:09,002 INFO sqlalchemy.engine.Engine [cached since 2751s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2751s ago] ()
2025-10-08 12:18:09,004 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:18:09,004 INFO sqlalchemy.engine.Engine [cached since 2751s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2751s ago] ()
2025-10-08 12:18:09,009 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:18:09,009 INFO sqlalchemy.engine.Engine [cached since 2751s ago] ('2025-10-01 11:18:09.007496', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2751s ago] ('2025-10-01 11:18:09.007496', 'completed')
2025-10-08 12:18:09,015 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:18:09,015 INFO sqlalchemy.engine.Engine [cached since 2751s ago] ('2025-10-01 11:18:09.007496', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2751s ago] ('2025-10-01 11:18:09.007496', 'completed')
2025-10-08 12:18:09,015 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:48531 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 12:18:09,623 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:18:09,623 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:18:09,623 INFO sqlalchemy.engine.Engine [cached since 2752s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2752s ago] ()
2025-10-08 12:18:09,627 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:18:09,629 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:18:09,629 INFO sqlalchemy.engine.Engine [cached since 2751s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 2751s ago] ('completed', 10, 0)
2025-10-08 12:18:09,629 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:18:09,629 INFO sqlalchemy.engine.Engine [cached since 2752s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2752s ago] ('completed',)
2025-10-08 12:18:09,629 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:18:09,629 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:18:09,629 INFO sqlalchemy.engine.Engine [cached since 2752s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2752s ago] ()
INFO:     127.0.0.1:22172 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 12:18:09,644 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:18:09,644 INFO sqlalchemy.engine.Engine [cached since 2752s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2752s ago] ()
2025-10-08 12:18:09,646 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:18:09,646 INFO sqlalchemy.engine.Engine [cached since 2752s ago] ('2025-10-01 11:18:09.644229', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2752s ago] ('2025-10-01 11:18:09.644229', 'completed')
2025-10-08 12:18:09,646 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:18:09,646 INFO sqlalchemy.engine.Engine [cached since 2752s ago] ('2025-10-01 11:18:09.644229', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2752s ago] ('2025-10-01 11:18:09.644229', 'completed')
2025-10-08 12:18:09,653 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:48531 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:22172 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 12:18:10,642 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:18:10,642 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:18:10,642 INFO sqlalchemy.engine.Engine [cached since 2751s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2751s ago] ()
INFO:     127.0.0.1:22172 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 12:18:10,649 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:48531 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 12:18:11,646 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:18:11,646 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:18:11,646 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ()
2025-10-08 12:18:11,646 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:18:11,646 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:18:11,646 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ()
2025-10-08 12:18:11,646 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:18:11,646 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ('completed',)
2025-10-08 12:18:11,657 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:18:11,657 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ('completed',)
2025-10-08 12:18:11,662 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:18:11,662 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ()
2025-10-08 12:18:11,662 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:18:11,662 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ()
2025-10-08 12:18:11,668 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:18:11,668 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ()
2025-10-08 12:18:11,668 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:18:11,668 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ()
2025-10-08 12:18:11,668 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:18:11,668 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ('2025-10-01 11:18:11.668403', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ('2025-10-01 11:18:11.668403', 'completed')
2025-10-08 12:18:11,678 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:18:11,678 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ('2025-10-01 11:18:11.678348', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ('2025-10-01 11:18:11.678348', 'completed')
2025-10-08 12:18:11,678 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:18:11,684 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ('2025-10-01 11:18:11.668403', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ('2025-10-01 11:18:11.668403', 'completed')
2025-10-08 12:18:11,684 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:18:11,684 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ('2025-10-01 11:18:11.678348', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ('2025-10-01 11:18:11.678348', 'completed')
2025-10-08 12:18:11,684 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:18:11,684 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:48531 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:22172 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 12:18:12,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:18:12,638 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:18:12,638 INFO sqlalchemy.engine.Engine [cached since 2754s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 2754s ago] ('completed', 10, 0)
2025-10-08 12:18:12,667 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:18:12,667 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:18:12,667 INFO sqlalchemy.engine.Engine [cached since 2753s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2753s ago] ()
2025-10-08 12:18:12,667 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:22172 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 12:18:12,683 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:48531 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:48531 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:48531 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 12:21:20,093 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:21:20,093 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:21:20,095 INFO sqlalchemy.engine.Engine [cached since 2942s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2942s ago] ()
2025-10-08 12:21:20,096 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:21:20,096 INFO sqlalchemy.engine.Engine [cached since 2942s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2942s ago] ('completed',)
2025-10-08 12:21:20,103 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:21:20,105 INFO sqlalchemy.engine.Engine [cached since 2942s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2942s ago] ()
2025-10-08 12:21:20,111 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:21:20,111 INFO sqlalchemy.engine.Engine [cached since 2942s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2942s ago] ()
2025-10-08 12:21:20,117 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:21:20,117 INFO sqlalchemy.engine.Engine [cached since 2942s ago] ('2025-10-01 11:21:20.115938', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2942s ago] ('2025-10-01 11:21:20.115938', 'completed')
2025-10-08 12:21:20,125 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:21:20,125 INFO sqlalchemy.engine.Engine [cached since 2942s ago] ('2025-10-01 11:21:20.115938', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2942s ago] ('2025-10-01 11:21:20.115938', 'completed')
2025-10-08 12:21:20,131 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:40566 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 12:21:20,793 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:21:20,793 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:21:20,795 INFO sqlalchemy.engine.Engine [cached since 2943s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2943s ago] ()
2025-10-08 12:21:20,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:21:20,796 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:21:20,796 INFO sqlalchemy.engine.Engine [cached since 2942s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 2942s ago] ('completed', 10, 0)
2025-10-08 12:21:20,799 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:21:20,799 INFO sqlalchemy.engine.Engine [cached since 2943s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2943s ago] ('completed',)
2025-10-08 12:21:20,809 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:21:20,809 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:21:20,813 INFO sqlalchemy.engine.Engine [cached since 2943s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2943s ago] ()
INFO:     127.0.0.1:58585 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 12:21:20,813 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:21:20,813 INFO sqlalchemy.engine.Engine [cached since 2943s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2943s ago] ()
2025-10-08 12:21:20,822 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:21:20,822 INFO sqlalchemy.engine.Engine [cached since 2943s ago] ('2025-10-01 11:21:20.822603', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2943s ago] ('2025-10-01 11:21:20.822603', 'completed')
2025-10-08 12:21:20,822 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:21:20,822 INFO sqlalchemy.engine.Engine [cached since 2943s ago] ('2025-10-01 11:21:20.822603', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2943s ago] ('2025-10-01 11:21:20.822603', 'completed')
2025-10-08 12:21:20,830 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:40566 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:58585 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 12:21:21,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:21:21,797 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:21:21,797 INFO sqlalchemy.engine.Engine [cached since 2942s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2942s ago] ()
INFO:     127.0.0.1:58585 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 12:21:21,805 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:40566 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 12:21:22,812 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:21:22,813 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:21:22,813 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ()
2025-10-08 12:21:22,815 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:21:22,815 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:21:22,815 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ()
2025-10-08 12:21:22,817 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:21:22,817 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ('completed',)
2025-10-08 12:21:22,817 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:21:22,817 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ('completed',)
2025-10-08 12:21:22,828 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:21:22,828 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ()
2025-10-08 12:21:22,831 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:21:22,831 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ()
2025-10-08 12:21:22,834 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:21:22,834 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ()
2025-10-08 12:21:22,836 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:21:22,838 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ()
2025-10-08 12:21:22,842 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:21:22,842 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ('2025-10-01 11:21:22.840553', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ('2025-10-01 11:21:22.840553', 'completed')
2025-10-08 12:21:22,854 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:21:22,854 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ('2025-10-01 11:21:22.854044', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ('2025-10-01 11:21:22.854044', 'completed')
2025-10-08 12:21:22,859 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:21:22,859 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ('2025-10-01 11:21:22.840553', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ('2025-10-01 11:21:22.840553', 'completed')
2025-10-08 12:21:22,863 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:21:22,863 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ('2025-10-01 11:21:22.854044', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ('2025-10-01 11:21:22.854044', 'completed')
2025-10-08 12:21:22,865 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:21:22,887 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:40566 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:58585 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 12:21:23,821 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:21:23,821 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:21:23,821 INFO sqlalchemy.engine.Engine [cached since 2945s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 2945s ago] ('completed', 10, 0)
2025-10-08 12:21:23,821 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:21:23,821 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:21:23,821 INFO sqlalchemy.engine.Engine [cached since 2944s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 2944s ago] ()
2025-10-08 12:21:23,828 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:21:23,828 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:40566 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:58585 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:58585 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:58585 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:35879 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:58585 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
WARNING:  StatReload detected changes in 'routes\auth.py'. Reloading...
 2025-10-08 12:53:46,593 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:53:46,595 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:53:46,595 INFO sqlalchemy.engine.Engine [cached since 4889s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4889s ago] ()
2025-10-08 12:53:46,600 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:53:46,600 INFO sqlalchemy.engine.Engine [cached since 4889s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 4889s ago] ('completed',)
2025-10-08 12:53:46,603 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:53:46,603 INFO sqlalchemy.engine.Engine [cached since 4889s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4889s ago] ()
2025-10-08 12:53:46,605 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:53:46,606 INFO sqlalchemy.engine.Engine [cached since 4889s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4889s ago] ()
2025-10-08 12:53:46,608 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:53:46,609 INFO sqlalchemy.engine.Engine [cached since 4889s ago] ('2025-10-01 11:53:46.608489', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4889s ago] ('2025-10-01 11:53:46.608489', 'completed')
2025-10-08 12:53:46,611 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:53:46,611 INFO sqlalchemy.engine.Engine [cached since 4889s ago] ('2025-10-01 11:53:46.608489', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4889s ago] ('2025-10-01 11:53:46.608489', 'completed')
2025-10-08 12:53:46,615 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:48994 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 12:53:47,804 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:53:47,804 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:53:47,806 INFO sqlalchemy.engine.Engine [cached since 4890s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4890s ago] ()
2025-10-08 12:53:47,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:53:47,806 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:53:47,809 INFO sqlalchemy.engine.Engine [cached since 4889s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 4889s ago] ('completed', 10, 0)
2025-10-08 12:53:47,809 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:53:47,809 INFO sqlalchemy.engine.Engine [cached since 4890s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 4890s ago] ('completed',)
2025-10-08 12:53:47,814 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:53:47,814 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:53:47,817 INFO sqlalchemy.engine.Engine [cached since 4890s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4890s ago] ()
INFO:     127.0.0.1:38237 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 12:53:47,822 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:53:47,822 INFO sqlalchemy.engine.Engine [cached since 4890s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4890s ago] ()
2025-10-08 12:53:47,826 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:53:47,826 INFO sqlalchemy.engine.Engine [cached since 4890s ago] ('2025-10-01 11:53:47.825430', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4890s ago] ('2025-10-01 11:53:47.825430', 'completed')
2025-10-08 12:53:47,829 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:53:47,831 INFO sqlalchemy.engine.Engine [cached since 4890s ago] ('2025-10-01 11:53:47.825430', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4890s ago] ('2025-10-01 11:53:47.825430', 'completed')
2025-10-08 12:53:47,831 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:48994 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 12:53:49,791 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:53:49,791 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:53:49,791 INFO sqlalchemy.engine.Engine [cached since 4890s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4890s ago] ()
INFO:     127.0.0.1:38237 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 12:53:49,799 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:48994 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:38237 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 12:53:50,834 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:53:50,834 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:53:50,834 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ()
2025-10-08 12:53:50,834 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:53:50,834 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:53:50,834 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ()
2025-10-08 12:53:50,838 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:53:50,838 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ('completed',)
2025-10-08 12:53:50,842 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:53:50,842 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ()
2025-10-08 12:53:50,848 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:53:50,848 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ()
2025-10-08 12:53:50,848 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:53:50,848 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ('completed',)
2025-10-08 12:53:50,853 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:53:50,853 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ('2025-10-01 11:53:50.853143', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ('2025-10-01 11:53:50.853143', 'completed')
2025-10-08 12:53:50,854 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:53:50,854 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ()
2025-10-08 12:53:50,858 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:53:50,858 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ('2025-10-01 11:53:50.853143', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ('2025-10-01 11:53:50.853143', 'completed')
2025-10-08 12:53:50,858 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:53:50,858 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ()
2025-10-08 12:53:50,864 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:53:50,866 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:53:50,866 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ('2025-10-01 11:53:50.866218', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ('2025-10-01 11:53:50.866218', 'completed')
INFO:     127.0.0.1:48994 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 12:53:50,870 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:53:50,870 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ('2025-10-01 11:53:50.866218', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ('2025-10-01 11:53:50.866218', 'completed')
2025-10-08 12:53:50,873 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:38237 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 12:53:52,791 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:53:52,791 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:53:52,791 INFO sqlalchemy.engine.Engine [cached since 4894s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 4894s ago] ('completed', 10, 0)
2025-10-08 12:53:52,797 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:53:52,797 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:53:52,797 INFO sqlalchemy.engine.Engine [cached since 4893s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4893s ago] ()
2025-10-08 12:53:52,797 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:53:52,802 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:38237 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:48994 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:48994 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:48994 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 12:54:35,863 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:54:35,863 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:54:35,863 INFO sqlalchemy.engine.Engine [cached since 4938s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4938s ago] ()
2025-10-08 12:54:35,866 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:54:35,866 INFO sqlalchemy.engine.Engine [cached since 4938s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 4938s ago] ('completed',)
2025-10-08 12:54:35,869 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:54:35,869 INFO sqlalchemy.engine.Engine [cached since 4938s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4938s ago] ()
2025-10-08 12:54:35,871 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:54:35,871 INFO sqlalchemy.engine.Engine [cached since 4938s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4938s ago] ()
2025-10-08 12:54:35,873 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:54:35,873 INFO sqlalchemy.engine.Engine [cached since 4938s ago] ('2025-10-01 11:54:35.872645', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4938s ago] ('2025-10-01 11:54:35.872645', 'completed')
2025-10-08 12:54:35,876 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:54:35,876 INFO sqlalchemy.engine.Engine [cached since 4938s ago] ('2025-10-01 11:54:35.872645', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4938s ago] ('2025-10-01 11:54:35.872645', 'completed')
2025-10-08 12:54:35,878 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:47069 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 12:54:36,543 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:54:36,558 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:54:36,559 INFO sqlalchemy.engine.Engine [cached since 4938s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4938s ago] ()
2025-10-08 12:54:36,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:54:36,560 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:54:36,560 INFO sqlalchemy.engine.Engine [cached since 4938s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 4938s ago] ('completed', 10, 0)
2025-10-08 12:54:36,560 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:54:36,560 INFO sqlalchemy.engine.Engine [cached since 4939s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 4939s ago] ('completed',)
2025-10-08 12:54:36,560 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:54:36,560 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:54:36,560 INFO sqlalchemy.engine.Engine [cached since 4939s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4939s ago] ()
INFO:     127.0.0.1:31954 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 12:54:36,560 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:54:36,560 INFO sqlalchemy.engine.Engine [cached since 4939s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4939s ago] ()
2025-10-08 12:54:36,576 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:54:36,576 INFO sqlalchemy.engine.Engine [cached since 4939s ago] ('2025-10-01 11:54:36.576611', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4939s ago] ('2025-10-01 11:54:36.576611', 'completed')
2025-10-08 12:54:36,576 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:54:36,576 INFO sqlalchemy.engine.Engine [cached since 4939s ago] ('2025-10-01 11:54:36.576611', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4939s ago] ('2025-10-01 11:54:36.576611', 'completed')
2025-10-08 12:54:36,576 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:47069 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:31954 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 12:54:37,560 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:54:37,560 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:54:37,560 INFO sqlalchemy.engine.Engine [cached since 4938s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4938s ago] ()
2025-10-08 12:54:37,560 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:31954 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:47069 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 12:54:38,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:54:38,572 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:54:38,572 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ()
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ()
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ('completed',)
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ('completed',)
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ()
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ()
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ()
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:54:38,584 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ()
2025-10-08 12:54:38,600 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:54:38,600 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ('2025-10-01 11:54:38.600499', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ('2025-10-01 11:54:38.600499', 'completed')
2025-10-08 12:54:38,616 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:54:38,616 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ('2025-10-01 11:54:38.616746', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ('2025-10-01 11:54:38.616746', 'completed')
2025-10-08 12:54:38,619 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:54:38,619 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ('2025-10-01 11:54:38.600499', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ('2025-10-01 11:54:38.600499', 'completed')
2025-10-08 12:54:38,619 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:54:38,619 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ('2025-10-01 11:54:38.616746', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ('2025-10-01 11:54:38.616746', 'completed')
2025-10-08 12:54:38,619 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:54:38,619 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:47069 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:31954 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 12:54:39,571 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:54:39,571 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:54:39,571 INFO sqlalchemy.engine.Engine [cached since 4941s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 4941s ago] ('completed', 10, 0)
2025-10-08 12:54:39,571 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:54:39,571 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:54:39,571 INFO sqlalchemy.engine.Engine [cached since 4940s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 4940s ago] ()
2025-10-08 12:54:39,587 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:54:39,587 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:31954 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:47069 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:47069 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:47069 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 12:57:34,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:57:34,301 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:57:34,301 INFO sqlalchemy.engine.Engine [cached since 5116s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5116s ago] ()
2025-10-08 12:57:34,305 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:57:34,305 INFO sqlalchemy.engine.Engine [cached since 5116s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5116s ago] ('completed',)
2025-10-08 12:57:34,307 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:57:34,307 INFO sqlalchemy.engine.Engine [cached since 5116s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5116s ago] ()
2025-10-08 12:57:34,310 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:57:34,310 INFO sqlalchemy.engine.Engine [cached since 5116s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5116s ago] ()
2025-10-08 12:57:34,312 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:57:34,312 INFO sqlalchemy.engine.Engine [cached since 5116s ago] ('2025-10-01 11:57:34.312090', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5116s ago] ('2025-10-01 11:57:34.312090', 'completed')
2025-10-08 12:57:34,315 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:57:34,315 INFO sqlalchemy.engine.Engine [cached since 5116s ago] ('2025-10-01 11:57:34.312090', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5116s ago] ('2025-10-01 11:57:34.312090', 'completed')
2025-10-08 12:57:34,317 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:16122 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 12:57:34,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:57:34,992 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:57:34,992 INFO sqlalchemy.engine.Engine [cached since 5117s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5117s ago] ()
2025-10-08 12:57:34,994 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:57:34,994 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:57:34,994 INFO sqlalchemy.engine.Engine [cached since 5116s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5116s ago] ('completed', 10, 0)
2025-10-08 12:57:34,997 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:57:34,998 INFO sqlalchemy.engine.Engine [cached since 5117s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5117s ago] ('completed',)
2025-10-08 12:57:34,999 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:57:35,002 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:57:35,002 INFO sqlalchemy.engine.Engine [cached since 5117s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5117s ago] ()
INFO:     127.0.0.1:51984 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 12:57:35,018 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:57:35,019 INFO sqlalchemy.engine.Engine [cached since 5117s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5117s ago] ()
2025-10-08 12:57:35,022 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:57:35,022 INFO sqlalchemy.engine.Engine [cached since 5117s ago] ('2025-10-01 11:57:35.021113', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5117s ago] ('2025-10-01 11:57:35.021113', 'completed')
2025-10-08 12:57:35,025 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:57:35,025 INFO sqlalchemy.engine.Engine [cached since 5117s ago] ('2025-10-01 11:57:35.021113', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5117s ago] ('2025-10-01 11:57:35.021113', 'completed')
2025-10-08 12:57:35,027 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:16122 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:51984 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 12:57:36,001 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:57:36,002 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:57:36,002 INFO sqlalchemy.engine.Engine [cached since 5116s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5116s ago] ()
2025-10-08 12:57:36,006 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51984 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:16122 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 12:57:37,006 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:57:37,006 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:57:37,006 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ()
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ()
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ('completed',)
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ('completed',)
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ()
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ()
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ()
2025-10-08 12:57:37,022 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ()
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ('2025-10-01 11:57:37.038379', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ('2025-10-01 11:57:37.038379', 'completed')
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ('2025-10-01 11:57:37.038379', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ('2025-10-01 11:57:37.038379', 'completed')
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ('2025-10-01 11:57:37.038379', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ('2025-10-01 11:57:37.038379', 'completed')
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ('2025-10-01 11:57:37.038379', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ('2025-10-01 11:57:37.038379', 'completed')
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:57:37,038 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:16122 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:51984 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 12:57:38,038 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:57:38,038 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:57:38,038 INFO sqlalchemy.engine.Engine [cached since 5119s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5119s ago] ('completed', 10, 0)
2025-10-08 12:57:38,038 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:57:38,038 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:57:38,038 INFO sqlalchemy.engine.Engine [cached since 5118s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5118s ago] ()
2025-10-08 12:57:38,038 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:57:38,038 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51984 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:16122 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:16122 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:16122 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 12:59:36,332 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:59:36,332 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:59:36,332 INFO sqlalchemy.engine.Engine [cached since 5238s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5238s ago] ()
2025-10-08 12:59:36,346 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:59:36,347 INFO sqlalchemy.engine.Engine [cached since 5238s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5238s ago] ('completed',)
2025-10-08 12:59:36,352 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:59:36,353 INFO sqlalchemy.engine.Engine [cached since 5238s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5238s ago] ()
2025-10-08 12:59:36,357 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:59:36,358 INFO sqlalchemy.engine.Engine [cached since 5238s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5238s ago] ()
2025-10-08 12:59:36,364 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:59:36,364 INFO sqlalchemy.engine.Engine [cached since 5238s ago] ('2025-10-01 11:59:36.363218', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5238s ago] ('2025-10-01 11:59:36.363218', 'completed')
2025-10-08 12:59:36,367 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:59:36,367 INFO sqlalchemy.engine.Engine [cached since 5238s ago] ('2025-10-01 11:59:36.363218', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5238s ago] ('2025-10-01 11:59:36.363218', 'completed')
2025-10-08 12:59:36,371 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:4794 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine [cached since 5239s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5239s ago] ()
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine [cached since 5238s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5238s ago] ('completed', 10, 0)
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine [cached since 5239s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5239s ago] ('completed',)
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine [cached since 5239s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5239s ago] ()
INFO:     127.0.0.1:60324 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:59:37,040 INFO sqlalchemy.engine.Engine [cached since 5239s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5239s ago] ()
2025-10-08 12:59:37,056 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:59:37,056 INFO sqlalchemy.engine.Engine [cached since 5239s ago] ('2025-10-01 11:59:37.056782', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5239s ago] ('2025-10-01 11:59:37.056782', 'completed')
2025-10-08 12:59:37,056 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:59:37,056 INFO sqlalchemy.engine.Engine [cached since 5239s ago] ('2025-10-01 11:59:37.056782', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5239s ago] ('2025-10-01 11:59:37.056782', 'completed')
2025-10-08 12:59:37,056 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:4794 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:60324 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 12:59:38,040 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:59:38,040 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:59:38,040 INFO sqlalchemy.engine.Engine [cached since 5238s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5238s ago] ()
2025-10-08 12:59:38,057 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60324 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:4794 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 12:59:39,052 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:59:39,052 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:59:39,052 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ()
2025-10-08 12:59:39,052 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:59:39,052 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 12:59:39,052 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ()
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ('completed',)
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ('completed',)
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ()
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ()
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ()
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 12:59:39,066 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ()
2025-10-08 12:59:39,082 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:59:39,082 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ('2025-10-01 11:59:39.066395', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ('2025-10-01 11:59:39.066395', 'completed')
2025-10-08 12:59:39,082 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:59:39,082 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ('2025-10-01 11:59:39.082265', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ('2025-10-01 11:59:39.082265', 'completed')
2025-10-08 12:59:39,082 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:59:39,082 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ('2025-10-01 11:59:39.066395', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ('2025-10-01 11:59:39.066395', 'completed')
2025-10-08 12:59:39,082 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 12:59:39,082 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ('2025-10-01 11:59:39.082265', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ('2025-10-01 11:59:39.082265', 'completed')
2025-10-08 12:59:39,082 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:59:39,082 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:4794 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:60324 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 12:59:40,073 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:59:40,073 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 12:59:40,073 INFO sqlalchemy.engine.Engine [cached since 5241s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5241s ago] ('completed', 10, 0)
2025-10-08 12:59:40,081 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 12:59:40,081 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 12:59:40,081 INFO sqlalchemy.engine.Engine [cached since 5240s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5240s ago] ()
2025-10-08 12:59:40,081 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 12:59:40,081 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60324 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:4794 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:4794 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:4794 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 13:02:59,236 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:02:59,237 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:02:59,237 INFO sqlalchemy.engine.Engine [cached since 5441s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5441s ago] ()
2025-10-08 13:02:59,240 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:02:59,240 INFO sqlalchemy.engine.Engine [cached since 5441s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5441s ago] ('completed',)
2025-10-08 13:02:59,241 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:02:59,241 INFO sqlalchemy.engine.Engine [cached since 5441s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5441s ago] ()
2025-10-08 13:02:59,242 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:02:59,242 INFO sqlalchemy.engine.Engine [cached since 5441s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5441s ago] ()
2025-10-08 13:02:59,244 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:02:59,244 INFO sqlalchemy.engine.Engine [cached since 5441s ago] ('2025-10-01 12:02:59.243548', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5441s ago] ('2025-10-01 12:02:59.243548', 'completed')
2025-10-08 13:02:59,245 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:02:59,245 INFO sqlalchemy.engine.Engine [cached since 5441s ago] ('2025-10-01 12:02:59.243548', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5441s ago] ('2025-10-01 12:02:59.243548', 'completed')
2025-10-08 13:02:59,246 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61676 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 13:02:59,934 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:02:59,934 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:02:59,936 INFO sqlalchemy.engine.Engine [cached since 5442s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5442s ago] ()
2025-10-08 13:02:59,936 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:02:59,936 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:02:59,936 INFO sqlalchemy.engine.Engine [cached since 5441s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5441s ago] ('completed', 10, 0)
2025-10-08 13:02:59,938 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:02:59,938 INFO sqlalchemy.engine.Engine [cached since 5442s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5442s ago] ('completed',)
2025-10-08 13:02:59,940 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:02:59,942 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:02:59,942 INFO sqlalchemy.engine.Engine [cached since 5442s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5442s ago] ()
INFO:     127.0.0.1:2289 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 13:02:59,944 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:02:59,944 INFO sqlalchemy.engine.Engine [cached since 5442s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5442s ago] ()
2025-10-08 13:02:59,945 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:02:59,945 INFO sqlalchemy.engine.Engine [cached since 5442s ago] ('2025-10-01 12:02:59.945490', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5442s ago] ('2025-10-01 12:02:59.945490', 'completed')
2025-10-08 13:02:59,947 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:02:59,947 INFO sqlalchemy.engine.Engine [cached since 5442s ago] ('2025-10-01 12:02:59.945490', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5442s ago] ('2025-10-01 12:02:59.945490', 'completed')
2025-10-08 13:02:59,949 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61676 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:2289 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 13:03:00,936 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:03:00,936 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:03:00,936 INFO sqlalchemy.engine.Engine [cached since 5441s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5441s ago] ()
INFO:     127.0.0.1:2289 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 13:03:00,944 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61676 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 13:03:02,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:03:02,795 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:03:02,795 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ()
2025-10-08 13:03:02,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:03:02,797 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:03:02,798 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ()
2025-10-08 13:03:02,801 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:03:02,801 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ('completed',)
2025-10-08 13:03:02,804 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:03:02,804 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ('completed',)
2025-10-08 13:03:02,806 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:03:02,806 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ()
2025-10-08 13:03:02,808 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:03:02,809 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ()
2025-10-08 13:03:02,810 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:03:02,810 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ()
2025-10-08 13:03:02,813 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:03:02,813 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ()
2025-10-08 13:03:02,814 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:03:02,814 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ('2025-10-01 12:03:02.814419', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ('2025-10-01 12:03:02.814419', 'completed')
2025-10-08 13:03:02,814 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:03:02,814 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ('2025-10-01 12:03:02.814419', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ('2025-10-01 12:03:02.814419', 'completed')
2025-10-08 13:03:02,814 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:03:02,814 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ('2025-10-01 12:03:02.814419', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ('2025-10-01 12:03:02.814419', 'completed')
2025-10-08 13:03:02,814 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:03:02,814 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ('2025-10-01 12:03:02.814419', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ('2025-10-01 12:03:02.814419', 'completed')
2025-10-08 13:03:02,814 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:03:02,814 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:61676 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:2289 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 13:03:04,774 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:03:04,774 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:03:04,774 INFO sqlalchemy.engine.Engine [cached since 5446s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5446s ago] ('completed', 10, 0)
2025-10-08 13:03:04,788 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:03:04,788 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:03:04,788 INFO sqlalchemy.engine.Engine [cached since 5445s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5445s ago] ()
2025-10-08 13:03:04,788 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:03:04,788 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:2289 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:61676 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:61676 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:61676 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:45420 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:56371 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
2025-10-08 13:08:42,935 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:08:42,935 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:08:42,935 INFO sqlalchemy.engine.Engine [cached since 5785s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5785s ago] ()
2025-10-08 13:08:42,938 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:08:42,938 INFO sqlalchemy.engine.Engine [cached since 5785s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5785s ago] ('completed',)
2025-10-08 13:08:42,941 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:08:42,941 INFO sqlalchemy.engine.Engine [cached since 5785s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5785s ago] ()
2025-10-08 13:08:42,942 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:08:42,942 INFO sqlalchemy.engine.Engine [cached since 5785s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5785s ago] ()
2025-10-08 13:08:42,945 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:08:42,945 INFO sqlalchemy.engine.Engine [cached since 5785s ago] ('2025-10-01 12:08:42.944923', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5785s ago] ('2025-10-01 12:08:42.944923', 'completed')
2025-10-08 13:08:42,947 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:08:42,947 INFO sqlalchemy.engine.Engine [cached since 5785s ago] ('2025-10-01 12:08:42.944923', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5785s ago] ('2025-10-01 12:08:42.944923', 'completed')
2025-10-08 13:08:42,949 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:1361 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 13:08:43,637 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:08:43,637 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:08:43,637 INFO sqlalchemy.engine.Engine [cached since 5786s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5786s ago] ()
2025-10-08 13:08:43,639 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:08:43,639 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:08:43,639 INFO sqlalchemy.engine.Engine [cached since 5785s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5785s ago] ('completed', 10, 0)
2025-10-08 13:08:43,639 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:08:43,639 INFO sqlalchemy.engine.Engine [cached since 5786s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5786s ago] ('completed',)
2025-10-08 13:08:43,646 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:08:43,647 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:08:43,647 INFO sqlalchemy.engine.Engine [cached since 5786s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5786s ago] ()
INFO:     127.0.0.1:54956 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 13:08:43,647 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:08:43,647 INFO sqlalchemy.engine.Engine [cached since 5786s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5786s ago] ()
2025-10-08 13:08:43,647 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:08:43,647 INFO sqlalchemy.engine.Engine [cached since 5786s ago] ('2025-10-01 12:08:43.647018', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5786s ago] ('2025-10-01 12:08:43.647018', 'completed')
2025-10-08 13:08:43,647 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:08:43,647 INFO sqlalchemy.engine.Engine [cached since 5786s ago] ('2025-10-01 12:08:43.647018', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5786s ago] ('2025-10-01 12:08:43.647018', 'completed')
2025-10-08 13:08:43,647 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:1361 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:54956 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 13:08:44,626 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:08:44,626 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:08:44,626 INFO sqlalchemy.engine.Engine [cached since 5785s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5785s ago] ()
2025-10-08 13:08:44,641 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:54956 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:1361 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 13:08:45,639 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:08:45,649 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:08:45,649 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ()
2025-10-08 13:08:45,649 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:08:45,649 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:08:45,649 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ()
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ('completed',)
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ('completed',)
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ()
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ()
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ()
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ('2025-10-01 12:08:45.653738', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ('2025-10-01 12:08:45.653738', 'completed')
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:08:45,653 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ()
2025-10-08 13:08:45,669 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:08:45,669 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ('2025-10-01 12:08:45.653738', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ('2025-10-01 12:08:45.653738', 'completed')
2025-10-08 13:08:45,669 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:1361 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 13:08:45,685 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:08:45,685 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ('2025-10-01 12:08:45.685851', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ('2025-10-01 12:08:45.685851', 'completed')
2025-10-08 13:08:45,685 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:08:45,685 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ('2025-10-01 12:08:45.685851', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ('2025-10-01 12:08:45.685851', 'completed')
2025-10-08 13:08:45,685 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:54956 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 13:08:46,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:08:46,663 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:08:46,663 INFO sqlalchemy.engine.Engine [cached since 5788s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5788s ago] ('completed', 10, 0)
2025-10-08 13:08:46,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:08:46,668 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:08:46,668 INFO sqlalchemy.engine.Engine [cached since 5787s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5787s ago] ()
2025-10-08 13:08:46,668 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:08:46,668 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:1361 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:54956 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:54956 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:54956 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 13:11:05,931 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:11:05,931 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:11:05,931 INFO sqlalchemy.engine.Engine [cached since 5928s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5928s ago] ()
2025-10-08 13:11:05,931 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:11:05,931 INFO sqlalchemy.engine.Engine [cached since 5928s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5928s ago] ('completed',)
2025-10-08 13:11:05,931 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:11:05,931 INFO sqlalchemy.engine.Engine [cached since 5928s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5928s ago] ()
2025-10-08 13:11:05,938 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:11:05,939 INFO sqlalchemy.engine.Engine [cached since 5928s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5928s ago] ()
2025-10-08 13:11:05,941 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:11:05,941 INFO sqlalchemy.engine.Engine [cached since 5928s ago] ('2025-10-01 12:11:05.940363', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5928s ago] ('2025-10-01 12:11:05.940363', 'completed')
2025-10-08 13:11:05,943 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:11:05,943 INFO sqlalchemy.engine.Engine [cached since 5928s ago] ('2025-10-01 12:11:05.940363', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5928s ago] ('2025-10-01 12:11:05.940363', 'completed')
2025-10-08 13:11:05,946 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:1307 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine [cached since 5929s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5929s ago] ()
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine [cached since 5928s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5928s ago] ('completed', 10, 0)
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine [cached since 5929s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5929s ago] ('completed',)
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:36874 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:11:06,638 INFO sqlalchemy.engine.Engine [cached since 5929s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5929s ago] ()
2025-10-08 13:11:06,653 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:11:06,653 INFO sqlalchemy.engine.Engine [cached since 5929s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5929s ago] ()
2025-10-08 13:11:06,653 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:11:06,653 INFO sqlalchemy.engine.Engine [cached since 5929s ago] ('2025-10-01 12:11:06.653758', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5929s ago] ('2025-10-01 12:11:06.653758', 'completed')
2025-10-08 13:11:06,653 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:11:06,653 INFO sqlalchemy.engine.Engine [cached since 5929s ago] ('2025-10-01 12:11:06.653758', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5929s ago] ('2025-10-01 12:11:06.653758', 'completed')
2025-10-08 13:11:06,661 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:1307 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 13:11:07,633 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:11:07,633 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:11:07,633 INFO sqlalchemy.engine.Engine [cached since 5928s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5928s ago] ()
INFO:     127.0.0.1:36874 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 13:11:07,649 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:1307 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:36874 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 13:11:08,640 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:11:08,640 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:11:08,640 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ()
2025-10-08 13:11:08,640 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:11:08,640 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:11:08,640 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ()
2025-10-08 13:11:08,654 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:11:08,655 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ('completed',)
2025-10-08 13:11:08,658 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:11:08,658 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ('completed',)
2025-10-08 13:11:08,661 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:11:08,662 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ()
2025-10-08 13:11:08,663 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:11:08,664 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ()
2025-10-08 13:11:08,665 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:11:08,665 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ()
2025-10-08 13:11:08,667 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:11:08,668 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ()
2025-10-08 13:11:08,669 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:11:08,670 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ('2025-10-01 12:11:08.669773', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ('2025-10-01 12:11:08.669773', 'completed')
2025-10-08 13:11:08,673 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:11:08,673 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ('2025-10-01 12:11:08.672014', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ('2025-10-01 12:11:08.672014', 'completed')
2025-10-08 13:11:08,675 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:11:08,675 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ('2025-10-01 12:11:08.669773', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ('2025-10-01 12:11:08.669773', 'completed')
2025-10-08 13:11:08,677 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:11:08,678 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ('2025-10-01 12:11:08.672014', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ('2025-10-01 12:11:08.672014', 'completed')
2025-10-08 13:11:08,679 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:11:08,682 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:36874 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:1307 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 13:11:09,668 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:11:09,671 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:11:09,671 INFO sqlalchemy.engine.Engine [cached since 5931s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 5931s ago] ('completed', 10, 0)
2025-10-08 13:11:09,671 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:11:09,673 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:11:09,673 INFO sqlalchemy.engine.Engine [cached since 5930s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 5930s ago] ()
2025-10-08 13:11:09,677 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:11:09,677 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:1307 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:36874 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:36874 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:36874 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:44045 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
2025-10-08 13:17:53,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:17:53,281 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:17:53,281 INFO sqlalchemy.engine.Engine [cached since 6335s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6335s ago] ()
2025-10-08 13:17:53,294 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:17:53,294 INFO sqlalchemy.engine.Engine [cached since 6335s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 6335s ago] ('completed',)
2025-10-08 13:17:53,299 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:17:53,299 INFO sqlalchemy.engine.Engine [cached since 6335s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6335s ago] ()
2025-10-08 13:17:53,303 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:17:53,303 INFO sqlalchemy.engine.Engine [cached since 6335s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6335s ago] ()
2025-10-08 13:17:53,306 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:17:53,307 INFO sqlalchemy.engine.Engine [cached since 6335s ago] ('2025-10-01 12:17:53.306651', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6335s ago] ('2025-10-01 12:17:53.306651', 'completed')
2025-10-08 13:17:53,310 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:17:53,310 INFO sqlalchemy.engine.Engine [cached since 6335s ago] ('2025-10-01 12:17:53.306651', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6335s ago] ('2025-10-01 12:17:53.306651', 'completed')
2025-10-08 13:17:53,314 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50060 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 13:17:54,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:17:54,804 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:17:54,804 INFO sqlalchemy.engine.Engine [cached since 6337s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6337s ago] ()
2025-10-08 13:17:54,805 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:17:54,805 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:17:54,805 INFO sqlalchemy.engine.Engine [cached since 6336s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 6336s ago] ('completed', 10, 0)
2025-10-08 13:17:54,812 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:17:54,812 INFO sqlalchemy.engine.Engine [cached since 6337s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 6337s ago] ('completed',)
2025-10-08 13:17:54,812 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:17:54,817 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:17:54,817 INFO sqlalchemy.engine.Engine [cached since 6337s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6337s ago] ()
INFO:     127.0.0.1:51742 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 13:17:54,823 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:17:54,823 INFO sqlalchemy.engine.Engine [cached since 6337s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6337s ago] ()
2025-10-08 13:17:54,827 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:17:54,827 INFO sqlalchemy.engine.Engine [cached since 6337s ago] ('2025-10-01 12:17:54.827948', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6337s ago] ('2025-10-01 12:17:54.827948', 'completed')
2025-10-08 13:17:54,832 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:17:54,833 INFO sqlalchemy.engine.Engine [cached since 6337s ago] ('2025-10-01 12:17:54.827948', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6337s ago] ('2025-10-01 12:17:54.827948', 'completed')
2025-10-08 13:17:54,836 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50060 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:51742 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 13:17:56,802 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:17:56,802 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:17:56,802 INFO sqlalchemy.engine.Engine [cached since 6337s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6337s ago] ()
INFO:     127.0.0.1:51742 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 13:17:56,813 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50060 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 13:17:58,794 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:17:58,794 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:17:58,797 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ()
2025-10-08 13:17:58,797 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:17:58,797 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:17:58,797 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ()
2025-10-08 13:17:58,802 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:17:58,802 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ('completed',)
2025-10-08 13:17:58,814 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:17:58,814 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ()
2025-10-08 13:17:58,814 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:17:58,814 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ('completed',)
2025-10-08 13:17:58,817 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:17:58,817 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ()
2025-10-08 13:17:58,817 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:17:58,822 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ()
2025-10-08 13:17:58,822 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:17:58,825 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ('2025-10-01 12:17:58.822561', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ('2025-10-01 12:17:58.822561', 'completed')
2025-10-08 13:17:58,825 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:17:58,825 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ()
2025-10-08 13:17:58,827 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:17:58,827 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ('2025-10-01 12:17:58.827777', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ('2025-10-01 12:17:58.827777', 'completed')
2025-10-08 13:17:58,827 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:17:58,827 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ('2025-10-01 12:17:58.822561', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ('2025-10-01 12:17:58.822561', 'completed')
2025-10-08 13:17:58,834 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:17:58,834 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ('2025-10-01 12:17:58.827777', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ('2025-10-01 12:17:58.827777', 'completed')
2025-10-08 13:17:58,834 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:17:58,834 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50060 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:51742 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 13:17:59,812 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:17:59,812 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:17:59,812 INFO sqlalchemy.engine.Engine [cached since 6341s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 6341s ago] ('completed', 10, 0)
2025-10-08 13:17:59,815 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:17:59,815 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:17:59,815 INFO sqlalchemy.engine.Engine [cached since 6340s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6340s ago] ()
2025-10-08 13:17:59,815 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:17:59,820 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51742 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:50060 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:50060 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50060 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 13:23:07,589 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:23:07,589 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:23:07,593 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ()
2025-10-08 13:23:07,597 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:23:07,597 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ('completed',)
2025-10-08 13:23:07,600 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:23:07,600 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ()
2025-10-08 13:23:07,600 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:23:07,600 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ()
2025-10-08 13:23:07,605 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:23:07,605 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ('2025-10-01 12:23:07.605728', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ('2025-10-01 12:23:07.605728', 'completed')
2025-10-08 13:23:07,605 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:23:07,605 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ('2025-10-01 12:23:07.605728', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ('2025-10-01 12:23:07.605728', 'completed')
2025-10-08 13:23:07,615 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:43914 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 13:23:08,294 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:23:08,294 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:23:08,294 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ()
2025-10-08 13:23:08,294 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:23:08,294 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:23:08,299 INFO sqlalchemy.engine.Engine [cached since 6649s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 6649s ago] ('completed', 10, 0)
2025-10-08 13:23:08,300 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:23:08,300 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ('completed',)
2025-10-08 13:23:08,300 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:23:08,300 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:23:08,311 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ()
INFO:     127.0.0.1:14882 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 13:23:08,316 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:23:08,316 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ()
2025-10-08 13:23:08,317 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:23:08,317 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ('2025-10-01 12:23:08.317066', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ('2025-10-01 12:23:08.317066', 'completed')
2025-10-08 13:23:08,324 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:23:08,324 INFO sqlalchemy.engine.Engine [cached since 6650s ago] ('2025-10-01 12:23:08.317066', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6650s ago] ('2025-10-01 12:23:08.317066', 'completed')
2025-10-08 13:23:08,327 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:43914 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:14882 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 13:23:09,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:23:09,301 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:23:09,301 INFO sqlalchemy.engine.Engine [cached since 6649s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6649s ago] ()
INFO:     127.0.0.1:14882 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 13:23:09,307 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:43914 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 13:23:10,295 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:23:10,295 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:23:10,307 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ()
2025-10-08 13:23:10,307 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:23:10,307 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:23:10,307 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ()
2025-10-08 13:23:10,307 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:23:10,313 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ('completed',)
2025-10-08 13:23:10,313 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:23:10,313 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ('completed',)
2025-10-08 13:23:10,313 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:23:10,313 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ()
2025-10-08 13:23:10,313 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:23:10,313 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ()
2025-10-08 13:23:10,323 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:23:10,323 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ()
2025-10-08 13:23:10,323 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:23:10,327 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ()
2025-10-08 13:23:10,327 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:23:10,329 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ('2025-10-01 12:23:10.327764', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ('2025-10-01 12:23:10.327764', 'completed')
2025-10-08 13:23:10,329 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:23:10,329 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ('2025-10-01 12:23:10.329833', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ('2025-10-01 12:23:10.329833', 'completed')
2025-10-08 13:23:10,329 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:23:10,329 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ('2025-10-01 12:23:10.327764', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ('2025-10-01 12:23:10.327764', 'completed')
2025-10-08 13:23:10,339 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:23:10,339 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ('2025-10-01 12:23:10.329833', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ('2025-10-01 12:23:10.329833', 'completed')
2025-10-08 13:23:10,339 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:23:10,339 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:43914 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:14882 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 13:23:11,863 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:23:11,864 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:23:11,866 INFO sqlalchemy.engine.Engine [cached since 6653s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 6653s ago] ('completed', 10, 0)
2025-10-08 13:23:11,866 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:23:11,868 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:23:11,868 INFO sqlalchemy.engine.Engine [cached since 6652s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 6652s ago] ()
2025-10-08 13:23:11,882 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:23:11,884 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:14882 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:43914 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:43914 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:43914 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 13:28:59,458 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:28:59,462 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:28:59,462 INFO sqlalchemy.engine.Engine [cached since 7001s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7001s ago] ()
2025-10-08 13:28:59,466 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:28:59,466 INFO sqlalchemy.engine.Engine [cached since 7001s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 7001s ago] ('completed',)
2025-10-08 13:28:59,475 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:28:59,475 INFO sqlalchemy.engine.Engine [cached since 7001s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7001s ago] ()
2025-10-08 13:28:59,475 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:28:59,475 INFO sqlalchemy.engine.Engine [cached since 7001s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7001s ago] ()
2025-10-08 13:28:59,485 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:28:59,485 INFO sqlalchemy.engine.Engine [cached since 7001s ago] ('2025-10-01 12:28:59.483203', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 7001s ago] ('2025-10-01 12:28:59.483203', 'completed')
2025-10-08 13:28:59,489 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:28:59,490 INFO sqlalchemy.engine.Engine [cached since 7001s ago] ('2025-10-01 12:28:59.483203', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 7001s ago] ('2025-10-01 12:28:59.483203', 'completed')
2025-10-08 13:28:59,491 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:25557 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 13:29:00,149 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:29:00,153 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:29:00,153 INFO sqlalchemy.engine.Engine [cached since 7002s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7002s ago] ()
2025-10-08 13:29:00,154 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:29:00,154 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:29:00,154 INFO sqlalchemy.engine.Engine [cached since 7001s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 7001s ago] ('completed', 10, 0)
2025-10-08 13:29:00,162 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:29:00,162 INFO sqlalchemy.engine.Engine [cached since 7002s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 7002s ago] ('completed',)
2025-10-08 13:29:00,164 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:29:00,166 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:29:00,168 INFO sqlalchemy.engine.Engine [cached since 7002s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7002s ago] ()
INFO:     127.0.0.1:31119 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 13:29:00,169 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:29:00,169 INFO sqlalchemy.engine.Engine [cached since 7002s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7002s ago] ()
2025-10-08 13:29:00,175 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:29:00,175 INFO sqlalchemy.engine.Engine [cached since 7002s ago] ('2025-10-01 12:29:00.175669', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 7002s ago] ('2025-10-01 12:29:00.175669', 'completed')
2025-10-08 13:29:00,175 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:29:00,175 INFO sqlalchemy.engine.Engine [cached since 7002s ago] ('2025-10-01 12:29:00.175669', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 7002s ago] ('2025-10-01 12:29:00.175669', 'completed')
2025-10-08 13:29:00,175 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:25557 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:31119 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 13:29:01,163 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:29:01,163 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:29:01,163 INFO sqlalchemy.engine.Engine [cached since 7001s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7001s ago] ()
INFO:     127.0.0.1:31119 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 13:29:01,178 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:25557 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 13:29:02,170 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:29:02,170 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:29:02,172 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ()
2025-10-08 13:29:02,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:29:02,174 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 13:29:02,174 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ()
2025-10-08 13:29:02,178 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:29:02,178 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ('completed',)
2025-10-08 13:29:02,180 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 13:29:02,180 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ('completed',)
2025-10-08 13:29:02,196 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:29:02,196 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ()
2025-10-08 13:29:02,196 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 13:29:02,196 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ()
2025-10-08 13:29:02,196 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:29:02,196 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ()
2025-10-08 13:29:02,203 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 13:29:02,203 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ()
2025-10-08 13:29:02,206 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:29:02,206 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ('2025-10-01 12:29:02.204534', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ('2025-10-01 12:29:02.204534', 'completed')
2025-10-08 13:29:02,207 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:29:02,207 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ('2025-10-01 12:29:02.207139', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ('2025-10-01 12:29:02.207139', 'completed')
2025-10-08 13:29:02,209 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:29:02,209 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ('2025-10-01 12:29:02.204534', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ('2025-10-01 12:29:02.204534', 'completed')
2025-10-08 13:29:02,209 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 13:29:02,209 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ('2025-10-01 12:29:02.207139', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ('2025-10-01 12:29:02.207139', 'completed')
2025-10-08 13:29:02,218 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:29:02,221 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:25557 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:31119 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 13:29:03,189 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:29:03,189 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 13:29:03,189 INFO sqlalchemy.engine.Engine [cached since 7004s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 7004s ago] ('completed', 10, 0)
2025-10-08 13:29:03,191 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 13:29:03,191 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 13:29:03,191 INFO sqlalchemy.engine.Engine [cached since 7003s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 7003s ago] ()
2025-10-08 13:29:03,195 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 13:29:03,195 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:31119 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:25557 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:25557 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:25557 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 14:16:16,994 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:16:17,017 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:16:17,017 INFO sqlalchemy.engine.Engine [cached since 9839s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9839s ago] ()
2025-10-08 14:16:17,051 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:16:17,051 INFO sqlalchemy.engine.Engine [cached since 9839s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 9839s ago] ('completed',)
2025-10-08 14:16:17,077 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:16:17,077 INFO sqlalchemy.engine.Engine [cached since 9839s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9839s ago] ()
2025-10-08 14:16:17,097 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:16:17,097 INFO sqlalchemy.engine.Engine [cached since 9839s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9839s ago] ()
2025-10-08 14:16:17,109 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:16:17,110 INFO sqlalchemy.engine.Engine [cached since 9839s ago] ('2025-10-01 13:16:17.107735', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 9839s ago] ('2025-10-01 13:16:17.107735', 'completed')
2025-10-08 14:16:17,113 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:16:17,113 INFO sqlalchemy.engine.Engine [cached since 9839s ago] ('2025-10-01 13:16:17.107735', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 9839s ago] ('2025-10-01 13:16:17.107735', 'completed')
2025-10-08 14:16:17,155 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:25290 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 14:16:32,672 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:16:32,674 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:16:32,674 INFO sqlalchemy.engine.Engine [cached since 9855s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9855s ago] ()
2025-10-08 14:16:32,692 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:16:32,692 INFO sqlalchemy.engine.Engine [cached since 9855s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 9855s ago] ('completed',)
2025-10-08 14:16:32,699 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:16:32,699 INFO sqlalchemy.engine.Engine [cached since 9855s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9855s ago] ()
2025-10-08 14:16:32,725 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:16:32,725 INFO sqlalchemy.engine.Engine [cached since 9855s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9855s ago] ()
2025-10-08 14:16:32,731 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:16:32,731 INFO sqlalchemy.engine.Engine [cached since 9855s ago] ('2025-10-01 13:16:32.729511', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 9855s ago] ('2025-10-01 13:16:32.729511', 'completed')
2025-10-08 14:16:32,742 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:16:32,742 INFO sqlalchemy.engine.Engine [cached since 9855s ago] ('2025-10-01 13:16:32.729511', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 9855s ago] ('2025-10-01 13:16:32.729511', 'completed')
2025-10-08 14:16:32,746 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:18514 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 14:16:48,801 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:16:48,803 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 14:16:48,804 INFO sqlalchemy.engine.Engine [cached since 9870s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 9870s ago] ('completed', 10, 0)
2025-10-08 14:16:48,843 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:37805 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 14:16:49,288 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:16:49,288 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 14:16:49,290 INFO sqlalchemy.engine.Engine [cached since 9869s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9869s ago] ()
2025-10-08 14:16:49,296 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:37805 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:6757 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 14:16:56,131 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:16:56,133 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:16:56,133 INFO sqlalchemy.engine.Engine [cached since 9878s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9878s ago] ()
2025-10-08 14:16:56,141 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:16:56,141 INFO sqlalchemy.engine.Engine [cached since 9878s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 9878s ago] ('completed',)
2025-10-08 14:16:56,147 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:16:56,147 INFO sqlalchemy.engine.Engine [cached since 9878s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9878s ago] ()
2025-10-08 14:16:56,151 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:16:56,151 INFO sqlalchemy.engine.Engine [cached since 9878s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9878s ago] ()
2025-10-08 14:16:56,157 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:16:56,157 INFO sqlalchemy.engine.Engine [cached since 9878s ago] ('2025-10-01 13:16:56.155370', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 9878s ago] ('2025-10-01 13:16:56.155370', 'completed')
2025-10-08 14:16:56,162 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:16:56,162 INFO sqlalchemy.engine.Engine [cached since 9878s ago] ('2025-10-01 13:16:56.155370', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 9878s ago] ('2025-10-01 13:16:56.155370', 'completed')
2025-10-08 14:16:56,167 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:6757 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:6757 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 14:16:58,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:16:58,416 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:16:58,416 INFO sqlalchemy.engine.Engine [cached since 9880s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9880s ago] ()
2025-10-08 14:16:58,440 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:16:58,441 INFO sqlalchemy.engine.Engine [cached since 9880s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 9880s ago] ('completed',)
2025-10-08 14:16:58,445 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:16:58,445 INFO sqlalchemy.engine.Engine [cached since 9880s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9880s ago] ()
2025-10-08 14:16:58,449 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:16:58,450 INFO sqlalchemy.engine.Engine [cached since 9880s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9880s ago] ()
2025-10-08 14:16:58,455 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:16:58,455 INFO sqlalchemy.engine.Engine [cached since 9880s ago] ('2025-10-01 13:16:58.452784', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 9880s ago] ('2025-10-01 13:16:58.452784', 'completed')
2025-10-08 14:16:58,463 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:16:58,463 INFO sqlalchemy.engine.Engine [cached since 9880s ago] ('2025-10-01 13:16:58.452784', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 9880s ago] ('2025-10-01 13:16:58.452784', 'completed')
2025-10-08 14:16:58,471 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:6757 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 14:16:58,504 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:16:58,505 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 14:16:58,507 INFO sqlalchemy.engine.Engine [cached since 9879s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 9879s ago] ('completed', 10, 0)
2025-10-08 14:16:58,513 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:6757 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 14:16:59,035 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:16:59,035 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 14:16:59,037 INFO sqlalchemy.engine.Engine [cached since 9879s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 9879s ago] ()
2025-10-08 14:16:59,048 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:6757 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:6757 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:6757 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 14:23:59,182 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:23:59,182 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:23:59,184 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:23:59,262 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:23:59,262 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('completed',)
2025-10-08 14:23:59,278 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:23:59,278 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:23:59,309 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:23:59,309 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:23:59,347 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:23:59,347 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('2025-10-01 13:23:59.345126', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('2025-10-01 13:23:59.345126', 'completed')
2025-10-08 14:23:59,416 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:23:59,416 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('2025-10-01 13:23:59.345126', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('2025-10-01 13:23:59.345126', 'completed')
2025-10-08 14:23:59,435 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:30568 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 14:23:59,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:23:59,907 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:23:59,907 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:23:59,914 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:23:59,916 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 14:23:59,916 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('completed', 10, 0)
2025-10-08 14:23:59,931 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:23:59,939 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('completed',)
2025-10-08 14:23:59,943 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 14:23:59,961 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:23:59,961 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
INFO:     127.0.0.1:18348 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 14:23:59,971 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:23:59,973 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:23:59,979 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:23:59,979 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('2025-10-01 13:23:59.979340', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('2025-10-01 13:23:59.979340', 'completed')
2025-10-08 14:23:59,985 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:23:59,985 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('2025-10-01 13:23:59.979340', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('2025-10-01 13:23:59.979340', 'completed')
2025-10-08 14:24:00,001 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:30568 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 14:24:00,798 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:24:00,800 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 14:24:00,800 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
INFO:     127.0.0.1:18348 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 14:24:00,808 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:30568 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:18348 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 14:24:01,916 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:24:01,918 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:24:01,918 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:24:01,923 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:24:01,923 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('completed',)
2025-10-08 14:24:01,925 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:24:01,925 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:24:01,925 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:24:01,949 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:24:01,958 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:24:01,962 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:24:01,976 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('completed',)
2025-10-08 14:24:01,979 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:24:01,979 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:24:01,981 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:24:01,983 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:24:01,998 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:24:02,000 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('2025-10-01 13:24:01.998491', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('2025-10-01 13:24:01.998491', 'completed')
2025-10-08 14:24:02,007 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:24:02,011 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:24:02,015 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:24:02,015 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('2025-10-01 13:24:01.998491', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('2025-10-01 13:24:01.998491', 'completed')
2025-10-08 14:24:02,019 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:24:02,019 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('2025-10-01 13:24:02.019863', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('2025-10-01 13:24:02.019863', 'completed')
2025-10-08 14:24:02,023 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 14:24:02,026 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:24:02,026 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('2025-10-01 13:24:02.019863', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('2025-10-01 13:24:02.019863', 'completed')
INFO:     127.0.0.1:30568 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 14:24:02,072 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:18348 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 14:24:02,893 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:24:02,893 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 14:24:02,895 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ('completed', 10, 0)
2025-10-08 14:24:02,895 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:24:02,897 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 14:24:02,897 INFO sqlalchemy.engine.Engine [cached since 1.03e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.03e+04s ago] ()
2025-10-08 14:24:02,899 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:18348 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 14:24:02,906 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:30568 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:30568 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:30568 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:5590 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:60856 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:5251 - "OPTIONS /api/auth/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:1083 - "POST /api/auth/register HTTP/1.1" 422 Unprocessable Entity
2025-10-08 14:40:23,522 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:40:23,524 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:40:23,528 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:23,535 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:40:23,537 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:40:23,537 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:23,542 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:40:23,542 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('completed',)
2025-10-08 14:40:23,551 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:40:23,553 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('completed',)
2025-10-08 14:40:23,556 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:40:23,556 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:23,568 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:40:23,568 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:23,570 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:40:23,570 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:23,574 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:40:23,574 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('2025-10-01 13:40:23.572104', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('2025-10-01 13:40:23.572104', 'completed')
2025-10-08 14:40:23,578 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:40:23,578 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('2025-10-01 13:40:23.572104', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('2025-10-01 13:40:23.572104', 'completed')
2025-10-08 14:40:23,580 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60832 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 14:40:23,585 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:40:23,585 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:23,589 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:40:23,589 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('2025-10-01 13:40:23.587938', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('2025-10-01 13:40:23.587938', 'completed')
2025-10-08 14:40:23,616 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:40:23,629 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('2025-10-01 13:40:23.587938', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('2025-10-01 13:40:23.587938', 'completed')
2025-10-08 14:40:23,633 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:28354 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 14:40:23,699 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:40:23,699 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 14:40:23,699 INFO sqlalchemy.engine.Engine [cached since 1.128e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.128e+04s ago] ('completed', 10, 0)
2025-10-08 14:40:23,705 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60832 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:60832 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:60832 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 14:40:24,772 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:40:24,782 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 14:40:24,784 INFO sqlalchemy.engine.Engine [cached since 1.128e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.128e+04s ago] ()
2025-10-08 14:40:24,797 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:28354 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 14:40:25,722 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:40:25,724 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:40:25,724 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:25,726 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:40:25,726 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:40:25,728 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:25,743 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:40:25,743 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('completed',)
2025-10-08 14:40:25,747 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:40:25,747 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('completed',)
2025-10-08 14:40:25,748 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:40:25,748 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:25,776 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:40:25,776 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:25,782 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:40:25,786 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:25,790 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:40:25,792 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('2025-10-01 13:40:25.790498', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('2025-10-01 13:40:25.790498', 'completed')
2025-10-08 14:40:25,799 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:40:25,799 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:25,803 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:40:25,804 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('2025-10-01 13:40:25.790498', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('2025-10-01 13:40:25.790498', 'completed')
2025-10-08 14:40:25,807 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 14:40:25,811 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:40:25,811 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('2025-10-01 13:40:25.809016', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('2025-10-01 13:40:25.809016', 'completed')
INFO:     127.0.0.1:60832 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 14:40:25,814 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:40:25,816 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('2025-10-01 13:40:25.809016', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('2025-10-01 13:40:25.809016', 'completed')
2025-10-08 14:40:25,821 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:28354 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 14:40:26,766 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:40:26,768 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 14:40:26,771 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ('completed', 10, 0)
2025-10-08 14:40:26,773 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:40:26,785 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 14:40:26,787 INFO sqlalchemy.engine.Engine [cached since 1.129e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.129e+04s ago] ()
2025-10-08 14:40:26,800 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:28354 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 14:40:26,811 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60832 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:60832 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:60832 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:22533 - "OPTIONS /api/auth/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:44718 - "POST /api/auth/register HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:55536 - "POST /api/auth/register HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:52708 - "OPTIONS /api/auth/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:18155 - "POST /api/auth/register HTTP/1.1" 422 Unprocessable Entity
2025-10-08 14:51:38,104 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:51:38,105 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:51:38,105 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:38,120 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:51:38,139 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('completed',)
2025-10-08 14:51:38,202 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:51:38,202 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:38,214 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:51:38,215 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:38,248 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:51:38,249 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('2025-10-01 13:51:38.247413', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('2025-10-01 13:51:38.247413', 'completed')
2025-10-08 14:51:38,260 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:51:38,270 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('2025-10-01 13:51:38.247413', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('2025-10-01 13:51:38.247413', 'completed')
2025-10-08 14:51:38,276 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63322 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 14:51:39,020 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:51:39,022 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:51:39,022 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:39,026 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:51:39,028 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('completed',)
2025-10-08 14:51:39,031 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:51:39,032 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:39,035 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:51:39,035 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:39,038 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:51:39,039 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('2025-10-01 13:51:39.037661', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('2025-10-01 13:51:39.037661', 'completed')
2025-10-08 14:51:39,043 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:51:39,043 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('2025-10-01 13:51:39.037661', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('2025-10-01 13:51:39.037661', 'completed')
2025-10-08 14:51:39,047 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63322 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 14:51:39,134 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:51:39,136 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 14:51:39,154 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('completed', 10, 0)
2025-10-08 14:51:39,160 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63322 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:51019 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 14:51:40,154 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:51:40,154 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 14:51:40,154 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:40,183 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63322 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:51019 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 14:51:41,160 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:51:41,160 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:51:41,163 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:41,163 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:51:41,163 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 14:51:41,163 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:41,183 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:51:41,183 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('completed',)
2025-10-08 14:51:41,187 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:51:41,187 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:41,189 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:51:41,189 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:41,193 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:51:41,193 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('2025-10-01 13:51:41.191202', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('2025-10-01 13:51:41.191202', 'completed')
2025-10-08 14:51:41,195 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 14:51:41,195 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('completed',)
2025-10-08 14:51:41,197 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:51:41,200 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('2025-10-01 13:51:41.191202', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('2025-10-01 13:51:41.191202', 'completed')
2025-10-08 14:51:41,202 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 14:51:41,202 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:41,204 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63322 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 14:51:41,216 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 14:51:41,216 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:41,221 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:51:41,221 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('2025-10-01 13:51:41.218141', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('2025-10-01 13:51:41.218141', 'completed')
2025-10-08 14:51:41,236 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 14:51:41,236 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('2025-10-01 13:51:41.218141', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('2025-10-01 13:51:41.218141', 'completed')
2025-10-08 14:51:41,239 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51019 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 14:51:42,187 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:51:42,189 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 14:51:42,189 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ('completed', 10, 0)
2025-10-08 14:51:42,194 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:51019 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 14:51:42,207 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 14:51:42,207 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 14:51:42,207 INFO sqlalchemy.engine.Engine [cached since 1.196e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.196e+04s ago] ()
2025-10-08 14:51:42,250 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63322 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:63322 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:63322 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:59561 - "POST /api/auth/register HTTP/1.1" 422 Unprocessable Entity
2025-10-08 15:00:22,327 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:00:22,329 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:00:22,329 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ()
2025-10-08 15:00:22,337 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:00:22,337 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ('completed',)
2025-10-08 15:00:22,342 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:00:22,342 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ()
2025-10-08 15:00:22,346 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:00:22,346 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ()
2025-10-08 15:00:22,351 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:00:22,352 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ('2025-10-01 14:00:22.350965', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ('2025-10-01 14:00:22.350965', 'completed')
2025-10-08 15:00:22,356 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:00:22,357 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ('2025-10-01 14:00:22.350965', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ('2025-10-01 14:00:22.350965', 'completed')
2025-10-08 15:00:22,361 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60787 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 15:00:22,790 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:00:22,790 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:00:22,790 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ()
2025-10-08 15:00:22,792 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:00:22,794 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 15:00:22,794 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ('completed', 10, 0)
2025-10-08 15:00:22,799 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:00:22,799 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ('completed',)
2025-10-08 15:00:22,803 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 15:00:22,805 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:00:22,805 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ()
INFO:     127.0.0.1:29185 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 15:00:22,811 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:00:22,811 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ()
2025-10-08 15:00:22,818 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:00:22,818 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ('2025-10-01 14:00:22.816435', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ('2025-10-01 14:00:22.816435', 'completed')
2025-10-08 15:00:22,823 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:00:22,823 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ('2025-10-01 14:00:22.816435', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ('2025-10-01 14:00:22.816435', 'completed')
2025-10-08 15:00:22,827 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60787 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:29185 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 15:00:23,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:00:23,760 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 15:00:23,761 INFO sqlalchemy.engine.Engine [cached since 1.248e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.248e+04s ago] ()
2025-10-08 15:00:23,768 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60787 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:60787 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 15:00:24,843 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:00:24,845 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:00:24,846 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ()
2025-10-08 15:00:24,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:00:24,848 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:00:24,848 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ()
2025-10-08 15:00:24,859 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:00:24,861 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ('completed',)
2025-10-08 15:00:24,863 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:00:24,863 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ('completed',)
2025-10-08 15:00:24,868 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:00:24,868 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ()
2025-10-08 15:00:24,872 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:00:24,874 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ()
2025-10-08 15:00:24,878 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:00:24,878 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ('2025-10-01 14:00:24.876718', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ('2025-10-01 14:00:24.876718', 'completed')
2025-10-08 15:00:24,883 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:00:24,883 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ('2025-10-01 14:00:24.876718', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ('2025-10-01 14:00:24.876718', 'completed')
2025-10-08 15:00:24,885 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:00:24,887 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ()
2025-10-08 15:00:24,889 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 15:00:24,894 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:00:24,894 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ()
INFO:     127.0.0.1:29185 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 15:00:24,905 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:00:24,905 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ('2025-10-01 14:00:24.902548', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ('2025-10-01 14:00:24.902548', 'completed')
2025-10-08 15:00:24,911 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:00:24,911 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ('2025-10-01 14:00:24.902548', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ('2025-10-01 14:00:24.902548', 'completed')
2025-10-08 15:00:24,916 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60787 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 15:00:25,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:00:25,798 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 15:00:25,799 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ('completed', 10, 0)
2025-10-08 15:00:25,805 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60787 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 15:00:25,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:00:25,814 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 15:00:25,816 INFO sqlalchemy.engine.Engine [cached since 1.249e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.249e+04s ago] ()
2025-10-08 15:00:25,821 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:29185 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:29185 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:29185 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:57764 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:63030 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:41156 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:3751 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
2025-10-08 15:14:14,599 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:14:14,600 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:14:14,600 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:14,623 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:14:14,624 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('completed',)
2025-10-08 15:14:14,631 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:14:14,631 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:14,658 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:14:14,658 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:14,689 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:14:14,690 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('2025-10-01 14:14:14.687892', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('2025-10-01 14:14:14.687892', 'completed')
2025-10-08 15:14:14,694 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:14:14,694 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('2025-10-01 14:14:14.687892', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('2025-10-01 14:14:14.687892', 'completed')
2025-10-08 15:14:14,719 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:57683 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 15:14:15,218 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:14:15,219 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:14:15,219 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:15,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:14:15,230 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 15:14:15,230 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('completed', 10, 0)
2025-10-08 15:14:15,253 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:14:15,253 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('completed',)
2025-10-08 15:14:15,259 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 15:14:15,276 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:14:15,276 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
INFO:     127.0.0.1:60450 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 15:14:15,292 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:14:15,292 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:15,302 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:14:15,303 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('2025-10-01 14:14:15.301047', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('2025-10-01 14:14:15.301047', 'completed')
2025-10-08 15:14:15,306 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:14:15,306 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('2025-10-01 14:14:15.301047', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('2025-10-01 14:14:15.301047', 'completed')
2025-10-08 15:14:15,314 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:57683 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:60450 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 15:14:16,340 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:14:16,342 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 15:14:16,342 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:16,353 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:57683 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:60450 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 15:14:17,190 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:14:17,192 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:14:17,192 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:17,209 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:14:17,209 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:14:17,209 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:17,217 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:14:17,217 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('completed',)
2025-10-08 15:14:17,220 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:14:17,220 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('completed',)
2025-10-08 15:14:17,226 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:14:17,226 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:17,233 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:14:17,233 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:17,241 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:14:17,243 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:17,262 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:14:17,262 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('2025-10-01 14:14:17.260943', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('2025-10-01 14:14:17.260943', 'completed')
2025-10-08 15:14:17,264 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:14:17,264 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
2025-10-08 15:14:17,269 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:14:17,269 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('2025-10-01 14:14:17.260943', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('2025-10-01 14:14:17.260943', 'completed')
2025-10-08 15:14:17,275 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 15:14:17,301 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:14:17,302 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('2025-10-01 14:14:17.290093', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('2025-10-01 14:14:17.290093', 'completed')
INFO:     127.0.0.1:57683 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 15:14:17,347 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:14:17,347 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('2025-10-01 14:14:17.290093', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('2025-10-01 14:14:17.290093', 'completed')
2025-10-08 15:14:17,356 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:60450 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 15:14:18,170 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:14:18,172 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 15:14:18,172 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ('completed', 10, 0)
2025-10-08 15:14:18,178 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 15:14:18,178 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:14:18,180 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 15:14:18,182 INFO sqlalchemy.engine.Engine [cached since 1.332e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.332e+04s ago] ()
INFO:     127.0.0.1:60450 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 15:14:18,202 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:57683 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:57683 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:57683 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:9894 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:9450 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:48823 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
2025-10-08 15:35:12,482 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:35:12,484 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:35:12,484 INFO sqlalchemy.engine.Engine [cached since 1.457e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.457e+04s ago] ()
2025-10-08 15:35:12,489 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:35:12,490 INFO sqlalchemy.engine.Engine [cached since 1.457e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.457e+04s ago] ('completed',)
2025-10-08 15:35:12,493 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:35:12,493 INFO sqlalchemy.engine.Engine [cached since 1.457e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.457e+04s ago] ()
2025-10-08 15:35:12,496 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:35:12,497 INFO sqlalchemy.engine.Engine [cached since 1.457e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.457e+04s ago] ()
2025-10-08 15:35:12,500 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:35:12,501 INFO sqlalchemy.engine.Engine [cached since 1.457e+04s ago] ('2025-10-01 14:35:12.499773', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.457e+04s ago] ('2025-10-01 14:35:12.499773', 'completed')
2025-10-08 15:35:12,505 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:35:12,505 INFO sqlalchemy.engine.Engine [cached since 1.457e+04s ago] ('2025-10-01 14:35:12.499773', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.457e+04s ago] ('2025-10-01 14:35:12.499773', 'completed')
2025-10-08 15:35:12,509 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:7802 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
2025-10-08 15:35:13,173 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:35:13,174 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:35:13,174 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ()
2025-10-08 15:35:13,175 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:35:13,176 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 15:35:13,176 INFO sqlalchemy.engine.Engine [cached since 1.457e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.457e+04s ago] ('completed', 10, 0)
2025-10-08 15:35:13,180 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:35:13,180 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ('completed',)
2025-10-08 15:35:13,182 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 15:35:13,184 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:35:13,185 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ()
INFO:     127.0.0.1:29270 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
2025-10-08 15:35:13,190 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:35:13,191 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ()
2025-10-08 15:35:13,196 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:35:13,196 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ('2025-10-01 14:35:13.193637', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ('2025-10-01 14:35:13.193637', 'completed')
2025-10-08 15:35:13,200 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:35:13,200 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ('2025-10-01 14:35:13.193637', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ('2025-10-01 14:35:13.193637', 'completed')
2025-10-08 15:35:13,203 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:7802 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
INFO:     127.0.0.1:29270 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
2025-10-08 15:35:14,178 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:35:14,180 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 15:35:14,180 INFO sqlalchemy.engine.Engine [cached since 1.457e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.457e+04s ago] ()
INFO:     127.0.0.1:29270 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
2025-10-08 15:35:14,187 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:7802 - "GET /api/analytics/customers HTTP/1.1" 200 OK
2025-10-08 15:35:15,190 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:35:15,190 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:35:15,190 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ()
2025-10-08 15:35:15,190 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:35:15,192 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments
2025-10-08 15:35:15,192 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ()
2025-10-08 15:35:15,195 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:35:15,195 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ('completed',)
2025-10-08 15:35:15,211 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.status = ?
2025-10-08 15:35:15,211 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ('completed',)
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ('completed',)
2025-10-08 15:35:15,215 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:35:15,215 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ()
2025-10-08 15:35:15,217 INFO sqlalchemy.engine.Engine SELECT count(paywalls.id) AS count_1 
FROM paywalls
INFO:sqlalchemy.engine.Engine:SELECT count(paywalls.id) AS count_1 
FROM paywalls
2025-10-08 15:35:15,217 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ()
2025-10-08 15:35:15,219 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:35:15,219 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ()
2025-10-08 15:35:15,221 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
INFO:sqlalchemy.engine.Engine:SELECT count(users.id) AS count_1 
FROM users
2025-10-08 15:35:15,221 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ()
2025-10-08 15:35:15,223 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:35:15,223 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ('2025-10-01 14:35:15.223302', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ('2025-10-01 14:35:15.223302', 'completed')
2025-10-08 15:35:15,225 INFO sqlalchemy.engine.Engine SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT count(payments.id) AS count_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:35:15,227 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ('2025-10-01 14:35:15.225312', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ('2025-10-01 14:35:15.225312', 'completed')
2025-10-08 15:35:15,228 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:35:15,228 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ('2025-10-01 14:35:15.223302', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ('2025-10-01 14:35:15.223302', 'completed')
2025-10-08 15:35:15,232 INFO sqlalchemy.engine.Engine SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
INFO:sqlalchemy.engine.Engine:SELECT sum(payments.amount) AS sum_1 
FROM payments 
WHERE payments.created_at >= ? AND payments.status = ?
2025-10-08 15:35:15,232 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ('2025-10-01 14:35:15.225312', 'completed')
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ('2025-10-01 14:35:15.225312', 'completed')
2025-10-08 15:35:15,234 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 15:35:15,236 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:7802 - "GET /api/analytics/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:29270 - "GET /api/analytics/revenue HTTP/1.1" 200 OK
2025-10-08 15:35:16,180 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:35:16,180 INFO sqlalchemy.engine.Engine SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
INFO:sqlalchemy.engine.Engine:SELECT paywalls.id, paywalls.title, count(payments.id) AS payment_count, sum(payments.amount) AS total_revenue 
FROM paywalls JOIN payments ON paywalls.id = payments.paywall_id 
WHERE payments.status = ? GROUP BY paywalls.id, paywalls.title ORDER BY count(payments.id) DESC
 LIMIT ? OFFSET ?
2025-10-08 15:35:16,180 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ('completed', 10, 0)
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ('completed', 10, 0)
2025-10-08 15:35:16,180 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-10-08 15:35:16,180 INFO sqlalchemy.engine.Engine SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
INFO:sqlalchemy.engine.Engine:SELECT count(distinct(payments.customer_email)) AS count_1 
FROM payments
2025-10-08 15:35:16,180 INFO sqlalchemy.engine.Engine [cached since 1.458e+04s ago] ()
INFO:sqlalchemy.engine.Engine:[cached since 1.458e+04s ago] ()
2025-10-08 15:35:16,196 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-10-08 15:35:16,196 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:7802 - "GET /api/analytics/customers HTTP/1.1" 200 OK
INFO:     127.0.0.1:29270 - "GET /api/analytics/top-paywalls HTTP/1.1" 200 OK
INFO:     127.0.0.1:29270 - "GET /api/payments?limit=5&sort=createdAt:desc HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:29270 - "GET /api/payments/?limit=5&sort=createdAt:desc HTTP/1.1" 403 Forbidden
INFO:     127.0.0.1:12859 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:12669 - "POST /api/auth/login HTTP/1.1" 422 Unprocessable Entity
